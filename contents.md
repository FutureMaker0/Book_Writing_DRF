# 0. 웹 프로그래밍 최근 동향
  웹 프로그래밍이란 클라이언트와 서버를 분리하지 않고 양쪽을 한 번에 개발하는 방식입니다. 
  시간이 흐르고 시장이 원하는 시스템이 복잡하고 다양해짐에 따라 시스템 개발자들은 많은 요구사항을 충족시켜야 하게 되었습니다 더 이상 두 가지를 동시 개발하는 방식으로는 복잡한 시스템 개발에 대응할 수 없게 되었고, 
  클라이언트 쪽은 프론트엔드, 서버 쪽은 백엔드 개발로 분업화가 이루어지게 되었습니다. 
  프론트엔드 개발자는 자바스크립트를 주 언어로 사용하며 react, angular, vue 등의 프레임워크를 활용하고 있습니다. 
  백엔드 개발자는 파이썬, 자바, 루비, 고, C++등 각자 취향과 기호에 맞는 언어를 사용하여 개발을 진행하면 됩니다. 
  예전에는 자바스크립트의 언어 자체 성숙도가 그리 높지 않았고 자바스크립트가 처리해야 할 기술적 요구사항이 복잡하지 않았기 때문에 기능적 한계가 있었지만 시대가 변하면서 요구 사항이 복잡해졌습니다. 
  이에 맞춰 자바스크립트도 발전했고 그 결과 UI 제어 및 데이터 전달과 관련된 모든 로직을 전담할 수 있게 되었습니다. 
  이로 인해 서버사이드 언어와 가벼운 자바스크립트 로직을 혼합하여 사용하는 MVT 패턴은 최근 웹 프로그래밍 트렌드에서 선호되지 않는 방식이 되었습니다.
  규모가 작은 프로젝트의 경우 한 사람이 프론트엔드/백엔드를 모두 담당한다면 MVT 아키텍쳐 개발 방식이 유용하겠지만, 현업에서는 주로 프론트엔드와 백엔드를 나누어 개발하는 방식을 선호합니다. 
  분업 방식에서는 일정수준 이상의 복잡도가 요구되는 서비스를 개발하기 위해 MVT 패턴의 템플릿이 해야하는 역할을 프론트엔드(자바스크립트)가 전부 대체하게 됩니다. 
  이 책은 파이썬 언어, 장고 프레임워크를 사용하게 될 백엔드 개발자를 위해 쓰여졌습니다. 
  백엔드 개발을 중심으로 내용을 구성하였기에 프론트엔드에 관한 내용은 제한적으로 수록하고 있습니다. 요즘 시대의 현업에서는 분업화된 개발 방식을 선호하니 새겨두시길 바랍니다.

# 1. Django & DRF

## 1.1 장고란 무엇인가
장고는 풀스택 프레임워크입니다. 장고라는 개발 생태계 내부에서 대부분의 기능이 전부 제공된다는 의미입니다. 장고는 자체적으로 ORM을 가지는 몇 안 되는 파이썬 웹 프레임워크입니다. 여기에 필수 모듈 중 하나인 django REST framework를 붙이면 풀스택 웹 프레임워크로 사용하는데도 무리가 없습니다.
장고가 풀스택 프레임워크로서 모든 기능을 제공한다는 것은 장고의 설계 의도에 맞게 기능들이 유기적으로 얽혀 있음을 의미합니다. 그렇기 때문에 장고를 잘 이해하고 있다면 손쉽게 활용할 수 있겠으나, 그렇지 못한 경우에는 오히려 개발속도를 저해하는 요인이 될 수 있습니다.

### 장고의 구조
MTV 아키텍쳐 (Model, Template, View)를 기본으로 하며 장고 모듈과 맵핑됩니다. 장고에서는 MTV 패턴으로 전반적인 개발을 진행합니다. 여기서 어떤 패턴으로 개발을 진행한다는 것은 작업을 함에 있어 어느 정도의 정해진 규칙과 방식이 있고, 그 방식을 따라가며 중간중간 방식이 요구하는 내용을 순서대로 채워 넣으며 개발한다는 개념으로 이해하시면 좋습니다. 다른 예시로 레고를 조립하는 방법을 알려주는 설명서와 같은 개념으로 이해하시면 좋습니다. 레고를 완성하는 다양한 방법이 있을 수 있겠지만, 설명서에 나온 체계적인 프로세스를 따르다보면 더 최적의 효율로 간편하고 쉽게 완성할 수가 있는 것과 같습니다.
개발하는 패턴에는 여러 방법이 있을 수 있습니다. 이러한 패턴은 앞서 말했듯 어떤 문제를 해결하기 위해 제시될 수 있는 다양한 방법론 중 하나입니다. 본 책을 통해 학습하는 학습자들은 프로젝트를 혼자 진행하고 있지만, 세상의 모든 개발을 혼자할 수 없기 때문에 다른 사람이 이해하기 쉬운 구조로 프로젝트를 개발하는 것은 매우 중요합니다. 대부분의 개발자들이 알고 있는 방식이라면 더할 나위 없을 것입니다. 그러한 직관적이고 잘 알려진 개발 방법론 중 하나가 MTV 패턴입니다.

코드1. 모델(model): 앱의 데이터와 관련된 부분을 다루는 부분입니다.
코드이미지1

코드2. 뷰(view): 모델과 템플릿 사이에서, 모델 -> 템플릿으로의 데이터 전달과 템플릿에서 발생하는 이벤트를 처리해줍니다.
코드이미지2

코드3. 템플릿(template): 사용자에게 보이는 부분을 담당하고 있습니다.
코드이미지3

위와 같이 장고에서는 3개의 모듈을 사용해서 애플리케이션을 개발하기 때문에 장고의 개발 방식은 MTV 아키텍쳐(또는 패턴) 기반으로 이루어집니다. 이때 템플릿은 자바스크립트의 기능 중 하나인 UI(HTML)에 데이터를 전달해주는 역할을 수행합니다. MTV 방식의 웹 애플리케이션에서는 템플릿이 이 역할을 수행하기도 하며 자바스크립트가 수행하기도 합니다.

### 장고의 설계 철학
장고 공식 문서를 통해 자세한 설계 철학을 확인할 수 있습니다. 본 책에서 장고의 설계철학을 다루기에는 방대함으로 간단히만 짚고 넘어가도록 하겠습니다.

#### 낮은 결합도(Loose coupling)
거의 모든 소프트웨어 아키텍쳐에 통용되는 개념이고 장고에도 역시 동일하게 적용되어 있습니다. 장고 프레임워크의 각 계층 모듈은 서로 모르도록 설계되어 있습니다. 소프트웨어에서 ‘서로 모르게 설계되었다'라는 표현은 ‘다른 모듈로 교체가 가능하다'라는 의미입니다. 대표적으로 장고의 인증 모듈을 예로 들 수 있습니다. 인증 방식에는 여러가지가 있는데, 장고에서는 처음 프로젝트를 생성하면 기본인증 방식으로 쿠키&세션 인증 모듈을 만들어서 제공합니다. 하지만 언제든지 내가 원하는 인증 모듈을 구현해서 사용(교체)할 수 있습니다. drf-simple-jwt, django-oauth-toolkit이 있습니다. 이것이 낮은 결합도의 예입니다. 인증 모듈은 장고의 다른 모듈에 의존하지 않습니다. 인증 모듈을 수정하거나 교체할 때 뷰 모듈의 코드를 변경하지 않아도 됩니다. 장고에서 제공하는 인증 모듈의 몇몇 메서드와 객체를 구현하고 settings.py에서 교체해주기만 하면 됩니다.

#### 암식적 개발 < 명시적 개발
장고는 개발자가 예상하지 못하는 마법과 같은 동작을 일으키지 않아야 합니다. 암시적으로 동작하는 코드가 많아지면 이를 다른 개발자가 직관적으로 파악할 수 없게 되어 서비스 장애로 이어질 수 있습니다. 이미 묵시적으로 정의되어 있는 메소드(save() 함수 등)를 오버라이딩할 때는 신중해야 합니다. 암시적인 동작을 만들기보다 차라리 커스텀한 메서드를 새로 만드는게 낫다는 것이 장고의 원칙이자 철학입니다.

#### 효율적인 SQL 수행
SQL 수행은 프레임워크 관점에서는 굉장히 무거운 동작이기 때문에 가능한 적게 수행되어야 하며 내부적으로 최적화되어야 합니다. 장고의 쿼리셋(QuerySet)은 이러한 철학을 따르고 있는데, 자세한 내용은 별도 챕터에서 다루도록 하겠습니다.

#### 장고 admin
독자들이 장고를 처음 접하게 되면 개발자 관점에서 매우 편하게 웹 페이지를 만들어주는 admin 모듈을 보고 감탄하게 될지도 모릅니다. 그만큼 편리하지만 실제 장고 admin은 현업에서는 활용하기가 매우 어렵습니다. 장고 admin은 설계된 목적대로 내부 직원이 사용하는 간단한 툴을 만들고자할 때 유용한 모듈입니다. (장고 공식 사이트에서조차 조직의 내부 관리 도구로만 사용할 것을 권장하고 있음을 참고 바랍니다.) 고정된 UI에서 다양한 장고의 모델을 기반으로 데이터를 제어할 수 있도록 한 것이 장고 admin입니다. 따라서 설계 목적에 맞게 장고 admin이 제공하는 모델 admin 옵션을 사용한다면 매우 적은 코드로 데이터 C.R.U.D를 처리할 수 있습니다. 그러나 거기까지이며 프런트엔드로의 확장 등은 불가능하며, 꼭 필요하다면 템플릿을 오버라이딩 해야합니다.

그림. 장고 admin 메인 페이지

## 1.2 DRF(Django REST Framework)는 무엇인가
장고를 기반으로 백엔드 API를 개발할 수 있는 도구가 바로 django-REST-framework입니다. 명칭에서 알 수 있듯 장고를 기반으로 하고 있어 몇 가지 개념만 더 이해한다면 금방 배울 수 있는 도구입니다. 배포 또한 어렵지 않기 때문에 초심자들이 첫 백엔드 프레임워크로 배우기에 적절하다고 생각됩니다.
DRF는 django를 기반으로 REST API 서버를 만들기 위한 라이브러리입니다. API는 웹 뿐만 아니라 앱과 같은 다양한 플랫폼의 백엔드 서비스를 위해 JSON과 같은 규격화된 데이터를 제공합니다. 결국 DRF를 사용하면 기존의 자체적인 웹 템플릿에게 바로 데이터를 전달해주던 장고 프로젝트에서, JSON과 같은 양식으로 다양한 플랫폼의 클라이언트에게 데이터를 제공해줄 수 있는 API 서버 프로젝트가 만들어지게 되는 것입니다. 장고는 MTV 패턴을 기반으로하며 풀스택 웹 프로그래밍에 유용한 기능을 제공합니다. 그러한 웹 프로그래밍에서 좀 더 세분화된 백엔드 프로그래밍은 장고에서의 MTV 패턴에 기반한 Template 모듈과 Template 뷰를 잘 사용하지 않습니다. DRF는 이러한 장고의 템플릿 뷰를 대체하며 API 방식으로 개발하기 위한 단계별로 다양한 View 구현체를 제공합니다. DRF는 django를 기반으로 REST API 서버를 만들기 위한 라이브러리입니다. API는 웹 뿐만 아니라 앱과 같은 다양한 플랫폼의 백엔드 서비스를 위해 JSON과 같은 규격화된 데이터를 제공합니다. 결국 DRF를 사용하면 기존의 자체적인 웹 템플릿에게 바로 데이터를 전달해주던 장고 프로젝트에서, JSON과 같은 양식으로 다양한 플랫폼의 클라이언트에게 데이터를 제공해줄 수 있는 API 서버 프로젝트가 만들어지게 되는 것입니다.
장고는 MTV 패턴을 기반으로하며 풀스택 웹 프로그래밍에 유용한 기능을 제공합니다. 그러한 웹 프로그래밍에서 좀 더 세분화된 백엔드 프로그래밍은 장고에서의 MTV 패턴에 기반한 Template 모듈과 Template 뷰를 잘 사용하지 않습니다. DRF는 이러한 장고의 템플릿 뷰를 대체하며 API 방식으로 개발하기 위한 단계별로 다양한 View 구현체를 제공합니다. APIView, GenericView, ViewSet이 바로 그것입니다. 단순히 웹 프로그래밍을 통해 서비스를 만들고자한다면 장고만으로 충분할 수 있지만 좀 더 깊이 들어가 백엔드 프로그래밍을 하고자 한다면 경우에 따라 장고가 제공하는 기능만으로는 부족한 순간이 오게 될 것입니다. DRF는 바로 그런 순간에 필요하며 잘 짜여진, 장고 백엔드 프로그래밍을 위한 필수 모듈이라고 할 수 있는 것입니다. DRF는 어디까지나 장고를 기반으로 한 라이브러리이기 떄문에 전반적으로 장고의 개발 흐름을 따릅니다. REST API가 되기 위해 달라지는 부분들은, 이후 내용을 진행하면서 천천히 살펴보도록 하겠습니다.

### 알아두면 유용한 DRF 관련 사항들
#### django-filter
